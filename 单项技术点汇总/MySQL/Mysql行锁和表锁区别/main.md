## Mysql行锁和表锁区别

> mysql常用引擎有MYISAM和InnoDB，而InnoDB是mysql默认的引擎。MYISAM不支持行锁，而InnoDB支持行锁和表锁。

### 1.行锁和表锁
在mysql 的 InnoDB引擎支持行锁，与Oracle不同，mysql的行锁是通过索引加载的，
即是行锁是加在索引响应的行上的，要是对应的SQL语句没有走索引，则会全表扫描，行锁则无法实现，取而代之的是表锁。
- 表锁：不会出现死锁，发生锁冲突几率高，并发低。
- 行锁：会出现死锁，发生锁冲突几率低，并发高。

***锁冲突***：例如说事务A将某几行上锁后，事务B又对其上锁，锁不能共存否则会出现锁冲突。（但是共享锁可以共存，共享锁和排它锁不能共存，排它锁和排它锁也不可以）
***死锁***：例如说两个事务，事务A锁住了1~5行，同时事务B锁住了6~10行，此时事务A请求锁住6~10行，就会阻塞直到事务B施放6~10行的锁，而随后事务B又请求锁住1~5行，
事务B也阻塞直到事务A释放1~5行的锁。***死锁发生时，会产生Deadlock错误***。 锁是对表操作的，所以自然锁住全表的表锁就不会出现死锁。

### 2.行锁的类型
行锁分 共享锁 和 排它锁。<br>
***共享锁***又称：读锁。
当一个事务对某几行上读锁时，允许其他事务对这几行进行读操作，***但不允许其进行写操作，也不允许其他事务给这几行上排它锁，但允许上读锁***。<br>
***排它锁***又称：写锁。当一个事务对某几个上写锁时，不允许其他事务写，但允许读。更不允许其他事务给这几行上任何锁。包括写锁。<br>

上共享锁的写法：lock in share mode
```agsl

```



























